═══════════════════════════════════════════════════════
ПОЛНАЯ ИНСТРУКЦИЯ ПО СБРОСУ И НАСТРОЙКЕ
═══════════════════════════════════════════════════════

ПРОБЛЕМА:
---------
1. База данных имеет старую структуру с enum constraint
2. Код использует role.value вместо role (строки)
3. Два разных Base класса в database.py и models/base.py

ЧТО ИСПРАВЛЕНО:
---------------
✅ Backend/app/core/database.py - использует правильный Base
✅ Backend/app/models/user.py - role теперь String
✅ Backend/app/routers/auth.py - убраны .value для role
✅ Backend/create_test_user.py - использует строку "dentist"

ШАГ ЗА ШАГОМ:
-------------

1. ОСТАНОВИ BACKEND СЕРВЕР
   - Нажми Ctrl+C в терминале где запущен uvicorn
   - Подожди пока процесс полностью остановится

2. УДАЛИ БАЗУ ДАННЫХ
   - Перейди в папку Backend
   - Удали файл sql_app.db (правой кнопкой -> Delete)

3. ЗАПУСТИ BACKEND СЕРВЕР
   cd Backend
   .venv\Scripts\activate
   uvicorn app.main:app --reload
   
   Ты увидишь:
   Creating database tables...
   ✅ Database tables created

4. СОЗДАЙ ТЕСТОВОГО ПОЛЬЗОВАТЕЛЯ
   Открой НОВЫЙ терминал (не закрывая сервер):
   cd Backend
   .venv\Scripts\activate
   python create_test_user.py
   
   Ты увидишь:
   ✅ Тестовый стоматолог создан успешно!

5. ПРОВЕРЬ ЛОГИН
   - Открой браузер: http://localhost:5173
   - Введи: +998901234567
   - Нажми "Войти"

ОЖИДАЕМЫЙ РЕЗУЛЬТАТ:
--------------------
✅ Логин успешен
✅ Токен сохранён
✅ Редирект на главную страницу
✅ Никаких CORS ошибок
✅ Никаких 500 ошибок

ЕСЛИ ЧТО-ТО НЕ РАБОТАЕТ:
------------------------
1. Проверь что сервер запущен (должен быть на localhost:8000)
2. Проверь что база данных создана (должен быть файл sql_app.db)
3. Проверь логи сервера в терминале
4. Сделай Hard Refresh в браузере (Ctrl+Shift+R)

CORS УЖЕ НАСТРОЕН ПРАВИЛЬНО:
----------------------------
Backend/app/main.py имеет:
- allow_origins=["*"] - разрешены все origins
- allow_credentials=True - разрешены cookies
- allow_methods=["*"] - разрешены все методы
- allow_headers=["*"] - разрешены все заголовки

CORS ошибка была из-за 500 Internal Server Error,
а не из-за настроек CORS!
