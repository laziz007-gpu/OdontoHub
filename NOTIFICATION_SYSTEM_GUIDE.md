# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –∞–ª–ª–µ—Ä–≥–∏–π

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - 9 —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –≤—Ä–∞—á–µ–π
2. **–†–µ—Ü–µ–ø—Ç—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
3. **–ê–ª–ª–µ—Ä–≥–∏–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–ª–ª–µ—Ä–≥–∏—è–º–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

## –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
cd Backend
python add_prescription_allergy_notification_tables.py
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä.

## –§—É–Ω–∫—Ü–∏–∏

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**9 —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

1. **appointment_reminder** - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ –ø—Ä–∏—ë–º–∞
2. **appointment_rescheduled** - –ü–∞—Ü–∏–µ–Ω—Ç –ø–µ—Ä–µ–Ω—ë—Å –ø—Ä–∏—ë–º
3. **appointment_cancelled** - –ü–∞—Ü–∏–µ–Ω—Ç –æ—Ç–º–µ–Ω–∏–ª –ø—Ä–∏—ë–º
4. **analytics_check** - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
5. **rating_decreased** - –†–µ–π—Ç–∏–Ω–≥ –ø–æ–Ω–∏–∑–∏–ª—Å—è
6. **rating_increased** - –†–µ–π—Ç–∏–Ω–≥ –ø–æ–≤—ã—Å–∏–ª—Å—è
7. **appointment_rated** - –ü–∞—Ü–∏–µ–Ω—Ç –æ—Ü–µ–Ω–∏–ª –ø—Ä–∏—ë–º
8. **review_left** - –ü–∞—Ü–∏–µ–Ω—Ç –æ—Å—Ç–∞–≤–∏–ª –æ—Ç–∑—ã–≤
9. **payment_reminder** - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ (–∑–∞ 3 –¥–Ω—è)

**–ì–¥–µ –Ω–∞–π—Ç–∏:**
- –ó–Ω–∞—á–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —à–∞–ø–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö)
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/notifications` - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/notifications` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `GET /api/notifications/unread-count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö
- `PATCH /api/notifications/{id}/read` - –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
- `POST /api/notifications/mark-all-read` - –æ—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
- `POST /api/notifications/test` - —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –†–µ—Ü–µ–ø—Ç—ã

**–§—É–Ω–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
- –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–∞—Ü–∏–µ–Ω—Ç–∞

**–ì–¥–µ –Ω–∞–π—Ç–∏:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞ `/patients/{id}` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–†–µ—Ü–µ–ø—Ç—ã"

**–ü–æ–ª—è —Ä–µ—Ü–µ–ø—Ç–∞:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –î–æ–∑–∏—Ä–æ–≤–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ß–∞—Å—Ç–æ—Ç–∞ –ø—Ä–∏—ë–º–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/patients/{patient_id}/prescriptions` - –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã
- `POST /api/patients/{patient_id}/prescriptions` - –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç
- `PUT /api/prescriptions/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç
- `DELETE /api/prescriptions/{id}` - —É–¥–∞–ª–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç

### –ê–ª–ª–µ—Ä–≥–∏–∏

**–§—É–Ω–∫—Ü–∏–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–ª–ª–µ—Ä–≥–∏–∏ –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–ª–µ—Ä–≥–∏–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –∞–ª–ª–µ—Ä–≥–∏–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∞–ª–ª–µ—Ä–≥–∏–π –ø–∞—Ü–∏–µ–Ω—Ç–∞

**–ì–¥–µ –Ω–∞–π—Ç–∏:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞ `/patients/{id}` ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ê–ª–ª–µ—Ä–≥–∏–∏"

**–ü–æ–ª—è –∞–ª–ª–µ—Ä–≥–∏–∏:**
- –ê–ª–ª–µ—Ä–≥–µ–Ω (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –¢–∏–ø —Ä–µ–∞–∫—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –°—Ç–µ–ø–µ–Ω—å —Ç—è–∂–µ—Å—Ç–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –õ–µ–≥–∫–∞—è / –°—Ä–µ–¥–Ω—è—è / –¢—è–∂–µ–ª–∞—è
- –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞:**
- üü° –õ–µ–≥–∫–∞—è - –∂–µ–ª—Ç—ã–π —Ñ–æ–Ω
- üü† –°—Ä–µ–¥–Ω—è—è - –æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ñ–æ–Ω
- üî¥ –¢—è–∂–µ–ª–∞—è - –∫—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω

**API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/patients/{patient_id}/allergies` - –ø–æ–ª—É—á–∏—Ç—å –∞–ª–ª–µ—Ä–≥–∏–∏
- `POST /api/patients/{patient_id}/allergies` - –¥–æ–±–∞–≤–∏—Ç—å –∞–ª–ª–µ—Ä–≥–∏—é
- `PUT /api/allergies/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –∞–ª–ª–µ—Ä–≥–∏—é
- `DELETE /api/allergies/{id}` - —É–¥–∞–ª–∏—Ç—å –∞–ª–ª–µ—Ä–≥–∏—é

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```bash
curl -X POST http://localhost:8000/api/notifications/test \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —à–∞–ø–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –∞–ª–ª–µ—Ä–≥–∏–π

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–ø–∏—Å–æ–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞
3. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è / –†–µ—Ü–µ–ø—Ç—ã / –ê–ª–ª–µ—Ä–≥–∏–∏
4. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ—Ü–µ–ø—Ç –∏–ª–∏ –∞–ª–ª–µ—Ä–≥–∏—é
5. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ –∑–∞–ø–∏—Å—å

## –§–∞–π–ª—ã

### Backend
- `Backend/app/models/notification.py` - –º–æ–¥–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `Backend/app/models/prescription.py` - –º–æ–¥–µ–ª—å —Ä–µ—Ü–µ–ø—Ç–æ–≤
- `Backend/app/models/allergy.py` - –º–æ–¥–µ–ª—å –∞–ª–ª–µ—Ä–≥–∏–π
- `Backend/app/routers/notifications.py` - API —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `Backend/app/routers/prescriptions.py` - API —Ä–µ—Ü–µ–ø—Ç–æ–≤
- `Backend/app/routers/allergies.py` - API –∞–ª–ª–µ—Ä–≥–∏–π
- `Backend/app/services/notification_service.py` - —Å–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Frontend
- `OdontoHub-1/src/types/notification.ts` - —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `OdontoHub-1/src/types/prescription.ts` - —Ç–∏–ø—ã —Ä–µ—Ü–µ–ø—Ç–æ–≤
- `OdontoHub-1/src/types/allergy.ts` - —Ç–∏–ø—ã –∞–ª–ª–µ—Ä–≥–∏–π
- `OdontoHub-1/src/api/notifications.ts` - API –∫–ª–∏–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `OdontoHub-1/src/api/prescriptions.ts` - API –∫–ª–∏–µ–Ω—Ç —Ä–µ—Ü–µ–ø—Ç–æ–≤
- `OdontoHub-1/src/api/allergies.ts` - API –∫–ª–∏–µ–Ω—Ç –∞–ª–ª–µ—Ä–≥–∏–π
- `OdontoHub-1/src/Pages/Notifications.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `OdontoHub-1/src/Pages/PatientDetailPage.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞
- `OdontoHub-1/src/components/Shared/NotificationBadge.tsx` - –∑–Ω–∞—á–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `OdontoHub-1/src/components/Patients/PrescriptionSection.tsx` - —Å–µ–∫—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤
- `OdontoHub-1/src/components/Patients/AllergySection.tsx` - —Å–µ–∫—Ü–∏—è –∞–ª–ª–µ—Ä–≥–∏–π

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏: [@AKBARKHONOV](https://t.me/AKBARKHONOV)
